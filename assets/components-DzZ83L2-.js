import{j as e,$ as k,a as _,b as h,M as C,c as F,P as E,r as i,C as A,d as S,D as $,F as D,z as I,y as z,e as f,f as T,S as B,g as M,T as P,h as j,L as G}from"./vendor-react-DxbZcKha.js";import{u}from"./hooks-BRW5rBxP.js";import{t as L,c as O}from"./vendor-Cf4LJyub.js";function R({name:a,handleChange:t,budget:s}){return e.jsx(k,{name:a,defaultValue:s,minValue:0,onChange:r=>t(r),children:e.jsx("div",{className:"*:not-first:mt-2",children:e.jsxs(_,{className:"border-input data-focus-within:border-ring data-focus-within:ring-ring/50 data-focus-within:has-aria-invalid:ring-destructive/20 dark:data-focus-within:has-aria-invalid:ring-destructive/40 data-focus-within:has-aria-invalid:border-destructive relative inline-flex h-9 w-full items-center overflow-hidden rounded-md border text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none data-disabled:opacity-50 data-focus-within:ring-[3px]",children:[e.jsx(h,{slot:"decrement",className:"border-input bg-background text-muted-foreground/80 hover:bg-accent hover:text-foreground -ms-px flex aspect-square h-[inherit] items-center justify-center rounded-s-md border text-sm transition-[color,box-shadow] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx(C,{size:16,"aria-hidden":"true"})}),e.jsx(F,{className:"bg-background text-foreground w-full grow px-3 py-2 text-center tabular-nums"}),e.jsx(h,{slot:"increment",className:"border-input bg-background text-muted-foreground/80 hover:bg-accent hover:text-foreground -me-px flex aspect-square h-[inherit] items-center justify-center rounded-e-md border text-sm transition-[color,box-shadow] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",children:e.jsx(E,{size:16,"aria-hidden":"true"})})]})})})}const X=()=>{const[a,t]=i.useState(0),{dispatch:s}=u(),r=c=>{t(c)},d=i.useMemo(()=>Number.isNaN(a)||a<=0,[a]),l=c=>{c.preventDefault(),s({type:"add-budget",payload:{budget:a}})};return e.jsx("main",{className:"p-10 mt-10 w-[30rem] bg-white/50 rounded-2xl shadow-xl backdrop-blur-sm border border-white/30 xl:w-[40rem]",children:e.jsxs("form",{className:"space-y-5   ",onSubmit:l,children:[e.jsxs("div",{className:"flex flex-col space-y-5 ",children:[e.jsxs("label",{htmlFor:"budget",className:"text-4xl text-blue-600 font-bold text-center",children:["Definir presupuesto"," "]}),e.jsx(R,{name:"budget",handleChange:r,budget:a})]}),e.jsx("input",{type:"submit",className:"w-full bg-blue-600 border-gray-200 p-2 cursor-pointer text-white font-bold disabled:opacity-10 rounded-3xl",placeholder:"Define tu presuspuesto",name:"budget",disabled:d})]})})},V=a=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(a),q=a=>new Intl.DateTimeFormat("es-CO",{year:"numeric",month:"long",day:"numeric"}).format(a),m=({label:a,amount:t})=>e.jsx("div",{className:` ${a?"bg-slate-100/20 rounded-lg shadow-xl border border-slate-400/20 backdrop-blur-lg backdrop-opacity-[.001rem] p-5 ":"p-2"} flex flex-col  justify-center mt-2 `,children:e.jsxs("p",{className:"text-xl uppercase flex flex-col text-black font-bold font-kanit ",children:[`${a} `,e.jsx("span",{className:`font-kanit ${a?"text-gray-600 text-3xl font-bold":"text-lg"} font-bold`,children:V(t)})]})}),Y=()=>{const{state:a,totalExpenses:t,reiminigBudget:s,dispatch:r}=u(),d=t/a.budget*100,l=d<50?"#3b82f6":"#DC2626",c=()=>{localStorage.clear(),r({type:"reset-expenses"})};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto mt-10 p-6 sm:p-8 md:p-10 rounded-2xl shadow-xl backdrop-blur-sm border border-white/20 bg-slate-100/30 flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8",children:[e.jsx("div",{className:"w-48 h-48 sm:w-60 sm:h-60 md:w-72 md:h-72",children:e.jsx(A,{value:s,maxValue:a.budget,text:`${d.toFixed(2)}% gastado`,strokeWidth:8,styles:S({pathColor:l,textColor:l,textSize:"12px",trailColor:"#E5E7EB"})})}),e.jsxs("div",{className:"w-full max-w-md flex flex-col gap-4",children:[e.jsx(m,{label:"Presupuesto",amount:a.budget}),e.jsx(m,{label:"Disponible",amount:s}),e.jsx(m,{label:"Gastos",amount:t})]})]}),e.jsx("button",{type:"button",className:"bg-pink-600 w-full py-4 text-white uppercase font-bold rounded-3xl tracking-[.2em] hover:bg-pink-700 transition-all cursor-pointer",onClick:c,children:"Resetear App"})]})},g=[{id:"1",name:"Ahorro",icon:"ahorro"},{id:"2",name:"Comida",icon:"comida"},{id:"3",name:"Casa",icon:"casa"},{id:"4",name:"Gastos Varios",icon:"gastos"},{id:"5",name:"Ocio",icon:"ocio"},{id:"6",name:"Salud",icon:"salud"},{id:"7",name:"Suscripciones",icon:"suscripciones"}],W=({children:a})=>e.jsx("p",{className:"bg-red-600 p-2 text-white font-bold text-sm text-center",children:a}),H=()=>{const[a,t]=i.useState({amount:0,expenseName:"",category:"",date:new Date}),[s,r]=i.useState(""),[d,l]=i.useState(0),{dispatch:c,state:o,reiminigBudget:y}=u();i.useEffect(()=>{if(o.editingId){const n=o.expenses.filter(x=>x.id===o.editingId)[0];t(n),l(n.amount)}},[o.editingId,o.expenses]);const p=n=>{const{name:x,value:b}=n.target,N=["amount"].includes(x);t({...a,[x]:N?+b:b})},w=n=>{if(n.preventDefault(),Object.values(a).includes("")){r("Todos los campos son obligatorios");return}if(a.amount-d>y){r("El gasto no puede ser mayor al presupuesto");return}o.editingId?c({type:"update-expense",payload:{expense:{id:o.editingId,...a}}}):c({type:"add-expense",payload:{expense:a}}),t({amount:0,expenseName:"",category:"",date:new Date}),l(0)};return e.jsxs("form",{className:"space-y-5",onSubmit:w,children:[e.jsx("legend",{className:"uppercase text-center text-2xl font-black border-b-4 border-blue-500 py-2 ",children:o.editingId?"Editando Gasto":"Nuevo Gasto"}),s&&e.jsx(W,{children:s}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"expenseName",className:"text-xl ",children:"Nombre de gasto:"}),e.jsx("input",{type:"text",id:"expenseName",placeholder:"AÃ±ada el Nombre del gasto",className:"bg-slate-100 p-2",name:"expenseName",value:a.expenseName,onChange:n=>p(n)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"expenseCantidad",className:"text-xl ",children:"Cantidad:"}),e.jsx("input",{type:"text",id:"expenseCantidad",placeholder:"AÃ±ada la cantidad del gasto: ej. 300",className:"bg-slate-100 p-2",name:"amount",value:a.amount,onChange:n=>p(n)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"category",className:"text-xl ",children:"Nombre de gasto:"}),e.jsxs("select",{id:"category",className:"bg-slate-100 p-2",name:"category",value:a.category,onChange:n=>p(n),children:[e.jsx("option",{value:"",children:"Seleccione"}),g.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"datePicker",className:"text-xl ",children:"Fecha Gasto:"}),e.jsx($,{showIcon:!0,id:"datePicker",selected:a.date,onChange:n=>t({...a,date:n}),dateFormat:"dd/MM/yyyy",className:"bg-slate-100 p-2",name:"datePicker"})]}),e.jsx("input",{type:"submit",value:o.editingId?"Guardar Cambios":"Registrar Gasto",className:"bg-blue-600 cursor-pointer w-full p-2 text-white uppercase font-bold rounded-lg"})]})};function Z(){const{state:a,dispatch:t}=u();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" modal fixed right-5 bottom-5 flex items-center justify-center",children:e.jsx("button",{type:"button",onClick:()=>t({type:"show-modal"}),children:e.jsx(D,{className:"w-16 h-16 text-blue-600 rounded-full"})})}),e.jsx(I,{appear:!0,show:a.modal,as:i.Fragment,children:e.jsxs(z,{as:"div",className:"relative z-10",onClose:()=>t({type:"close-modal"}),children:[e.jsx(f,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0  bg-opacity-75"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full bg-black/30 backdrop-blur-sm  items-center justify-center p-4 text-center",children:e.jsx(f,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx(T,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:e.jsx(H,{})})})})})]})})]})}const J=({expense:a})=>{const t=i.useMemo(()=>g.filter(l=>l.id===a.category)[0],[a]),{dispatch:s}=u(),r=()=>e.jsx(G,{children:e.jsx(j,{onClick:()=>s({type:"get-expense-by-id",payload:{id:a.id}}),children:"Actualizar"})}),d=()=>e.jsx(P,{children:e.jsx(j,{onClick:()=>s({type:"delete-expense",payload:{id:a.id}}),destructive:!0,children:"Eliminar"})});return e.jsx(B,{children:e.jsx(M,{maxSwipe:1,leadingActions:r(),trailingActions:d(),children:e.jsxs("div",{className:" bg-white/20  p-10 w-full flex gap-5 items-center   shadow-lg backdrop-blur-sm  border-b border-gray-300 cursor-pointer select-none",children:[e.jsx("div",{children:e.jsx("img",{src:`/icono_${t.icon}.svg`,alt:"icono gasto",className:"w-20"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xl font-bold uppercase text-slate-500",children:t.name}),e.jsx("p",{className:"text-salte-900 text-lg font-black text-slate-700",children:a.expenseName}),e.jsxs("p",{className:"text-salte-600 text-sm",children:[" ",q(new Date(a.date))]})]}),e.jsx(m,{amount:a.amount,label:""})]})})})},ee=()=>{const{state:a}=u(),t=a.currenCategory?a.expenses.filter(r=>r.category===a.currenCategory):a.expenses,s=i.useMemo(()=>t.length===0,[t]);return e.jsx("div",{className:"mt-10",children:s?e.jsx("p",{className:"text-gray-600 text-2xl font-bold",children:"No hay gastos"}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 text-2xl font-bold my-5",children:"Lista de gastos"}),t.map(r=>e.jsx(J,{expense:r},r.id))]})})},ae=()=>{const{dispatch:a}=u(),t=s=>{const{value:r}=s.target;a({type:"add-filter-category",payload:{id:r}})};return e.jsx("div",{className:" bg-white/20 shadow-lg rounded-lg p-10",children:e.jsx("form",{action:"",children:e.jsxs("div",{className:"flex flex-col  md:flex-row md:items-cneter gap-5 font-kanit ",children:[e.jsx("label",{className:"text-gray-600 text-2xl font-bold",htmlFor:"category",children:"Filtrar Gastos"}),e.jsxs("select",{onChange:t,name:"",id:"category",className:"bg-slate-100/30 p-2 flex-1 rounded-lg shadow-lg backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Todas las categorias"}),g.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})})})};function v(...a){return L(O(a))}const te=({className:a,children:t,showRadialGradient:s=!0,...r})=>e.jsx("main",{className:"w-screen h-screen",children:e.jsxs("div",{className:v("relative flex flex-col items-center justify-center bg-slate-400/50 text-slate-950 dark:bg-zinc-900 transition-bg",a),...r,children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{"--aurora":"repeating-linear-gradient(100deg,#3b82f6_10%,#a5b4fc_15%,#93c5fd_20%,#ddd6fe_25%,#60a5fa_40%)","--dark-gradient":"repeating-linear-gradient(100deg,#000_0%,#000_7%,transparent_10%,transparent_15%,#000_20%)","--white-gradient":"repeating-linear-gradient(100deg,#fff_0%,#fff_10%,transparent_20%,transparent_32%,#fff_46%)","--blue-300":"#93c5fd","--blue-400":"#60a5fa","--blue-500":"#3b82f6","--indigo-300":"#a5b4fc","--violet-200":"#ddd6fe","--black":"#000","--white":"#fff","--transparent":"transparent"},children:e.jsx("div",{className:v(`after:animate-aurora pointer-events-none absolute -inset-[10px]
               [background-image:var(--white-gradient),var(--aurora)]
               [background-size:300%,_200%] [background-position:50%_50%,50%_50%]
               opacity-50 blur-[10px] invert filter will-change-transform
               [--aurora:repeating-linear-gradient(100deg,var(--blue-500)_10%,var(--indigo-300)_15%,var(--blue-300)_20%,var(--violet-200)_25%,var(--blue-400)_30%)]
               [--dark-gradient:repeating-linear-gradient(100deg,var(--black)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]
               [--white-gradient:repeating-linear-gradient(100deg,var(--white)_0%,var(--white)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--white)_16%)]
               after:absolute after:inset-0 after:[background-image:var(--white-gradient),var(--aurora)]
               after:[background-size:200%,_100%] after:[background-attachment:fixed]
               after:mix-blend-difference after:content-[""]
               dark:[background-image:var(--dark-gradient),var(--aurora)] dark:invert-0
               after:dark:[background-image:var(--dark-gradient),var(--aurora)]`,s&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_70%)]")})}),e.jsx("div",{className:"z-10 w-full",children:t})]})});export{te as A,Y as B,ee as E,ae as F,X as a,Z as b};
