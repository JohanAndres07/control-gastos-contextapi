import{r as n,j as l}from"./vendor-react-DxbZcKha.js";import{v as c}from"./vendor-Cf4LJyub.js";const g=()=>{const t=localStorage.getItem("budget");return t?+t:0},i=()=>{const t=localStorage.getItem("expenses");return t?JSON.parse(t):[]},a={budget:g(),modal:!1,expenses:i(),editingId:"",currenCategory:""},x=t=>({...t,id:c()}),m=(t,s)=>{const e=t??a;switch(s.type){case"add-budget":return{...e,budget:s.payload.budget};case"show-modal":return{...e,modal:!0};case"close-modal":return{...e,modal:!1,editingId:""};case"add-expense":{const r=x(s.payload.expense);return{...e,expenses:[...e.expenses,r],modal:!1}}case"delete-expense":return{...e,expenses:e.expenses.filter(r=>r.id!==s.payload.id)};case"get-expense-by-id":return{...e,editingId:s.payload.id,modal:!0};case"update-expense":return{...e,expenses:e.expenses.map(r=>r.id===s.payload.expense.id?s.payload.expense:r),modal:!1,editingId:""};case"reset-expenses":return{...e,expenses:[],budget:0};case"add-filter-category":return{...e,currenCategory:s.payload.id};default:return e}},d=n.createContext(void 0),f=({children:t})=>{const[s,e]=n.useReducer(m,a),r=n.useMemo(()=>s.expenses.reduce((u,p)=>u+p.amount,0),[s.expenses]),o=s.budget-r;return l.jsx(d.Provider,{value:{state:s,dispatch:e,totalExpenses:r,reiminigBudget:o},children:t})},B=()=>{const t=n.useContext(d);if(!t)throw new Error("useBudget must be used within a BudgetProvider");return t};export{f as B,B as u};
